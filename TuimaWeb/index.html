<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title id="titleId"></title>
		<link rel="stylesheet" href="style.css" media="screen"/>
		<style type="text/css">
        	@import "http://ajax.googleapis.com/ajax/libs/dojo/1.7/dijit/themes/claro/claro.css";
       		@import "http://ajax.googleapis.com/ajax/libs/dojo/1.7/dojo/resources/dojo.css"
       		@import "http://ajax.googleapis.com/ajax/libs/dojo/1.7/dojox/form/resources/BusyButton.css");
    	</style>

   		<script type="text/javascript">
      		var djConfig = { modulePaths: { TuimaWeb: "../.."},
                       parseOnLoad: true,
                       locale:'en-us'};
    	</script>
		
		<script src="dojoBase/dojo/dojo.js"></script>

		<!-- load required dojo modules-->
		<script>
			dojo.require("dojo.parser");
			dojo.require("dijit.layout.BorderContainer");
			dojo.require("dijit.layout.ContentPane");
			
			dojo.require("dijit.form.Textarea");
			
			dojo.require("dijit.form.Button");
			dojo.require("dojox.form.BusyButton");
			dojo.require("dijit.form.Form");

     		dojo.require("dojo.i18n");
     		
     		dojo.require("dojox.data.JsonRestStore");
     		
  //			dojo.require("dojox.rpc.Service");
     		
     		
     		
      		dojo.requireLocalization("TuimaWeb", "index_res");
		</script>
		
		<!-- functions -->
		<script type="text/javascript">
			var url = "/test/data"
			//Init rest service
//      		var restService = dojox.rpc.Rest("Recipes");
//			var rs = new dojox.data.JsonRestStore({target:"/test"});
			var restService = dojox.rpc.Rest("test/data/");
			
      		function init()
      		{
        		var nlsStrings = dojo.i18n.getLocalization("TuimaWeb","index_res");

				dojo.byId("titleId").text = nlsStrings.PAGE_TITLE;
        		dojo.byId("greetingId").innerHTML = nlsStrings.GREETING;       		 
        		dojo.byId("pasteSubmitId").innerHTML = nlsStrings.PASTE_SUBMIT;

      		}
      		function pasteButtonPressed() {
//	  			var item = rs.getValue(item,"foo");
				console.log("hello world")
	  			restService("recipe");
//	  			restService.post("4", "new content");
      		}
			console.log("vittu")
restService("recipe");

	  		restService.post("recipe", "vittua ukille");

      		/* On page load */     		
      		dojo.addOnLoad(init);
    	</script>
		
	</head>
	<body>
		<div id="appLayout" class="demoLayout" data-dojo-type="dijit.layout.BorderContainer" data-dojo-props="design: 'headline'">
			<div class="claro" class="centerPanel" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="region: 'center'">
				<p id="greetingId"></p>
				<div data-dojo-type="dijit.form.Form" id="myForm" data-dojo-id="myForm"
						encType="multipart/form-data" action="" method="">
					<textarea id="pasteArea" name="textarea2" data-dojo-type="dijit.form.Textarea" style="width:500px;"></textarea>
					<br>
					<button id="pasteSubmitId" data-dojo-type="dijit.form.Button" onClick="pasteButtonPressed();" type="submit" name="submitButton" value="saave"></button>
					
					
				</div>			
			</div>
			<div class="edgePanel" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="region: 'top'">Header content (top)</div>
			<div id="leftCol" class="edgePanel" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="region: 'left', splitter: true">Sidebar content (left)</div>
		</div>
	
	</body>
</html>